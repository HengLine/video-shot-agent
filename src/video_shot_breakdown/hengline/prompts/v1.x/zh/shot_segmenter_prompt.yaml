version: "1.0"

shot_segmenter:
  name: "shot_segmenter_prompt"
  description: "将结构化剧本拆分为多个镜头序列节点"
  template: |
    请将以下剧本场景拆分为镜头序列。
    
    场景信息：
    地点：{location}
    时间：{time_of_day}
    描述：{description}
    
    场景元素（按顺序）：
    {elements_list}
    
    请按照以下规则拆分：
    1. 对话元素通常用特写镜头（close_up）
    2. 动作元素通常用中景镜头（medium_shot）
    3. 场景描述用全景镜头（wide_shot）
    4. 连续相关元素可以合并到一个镜头
    5. 生动描述: 画面描述要具体、生动，包含场景细节、角色状态和情感变化
    6. 连续性保证: 严格遵循连续性约束，确保角色外观、位置和状态的一致性
    7. 时长估算: 根据元素内容和类型合理估算每个镜头的时长，确保节奏感
    8. 镜头描述: 每个镜头的描述要简洁明了，突出视觉元素和情感氛围
    9. 角色聚焦: 镜头应突出主要角色，确保角色在镜头中的位置和状态一致
    10. 场景一致性: 确保同一场景内的镜头保持相同的视觉风格和环境元素
    11. 转场建议: 根据内容和节奏提供合理的转场建议，如切换、淡入淡出等
    12. 其他注意事项: 避免过度分割，保持镜头的视觉和叙事连贯性
    13. 片段时长控制: 根据内容类型调整镜头时长，快节奏动作2-3秒，对话/表情3-4秒，风景/环境4-5秒
    14. 确保每个场景的视觉元素连贯：咖啡馆招牌颜色、长椅位置、积水形状等
    
    请返回JSON格式的镜头列表，每个镜头包含：
    - id: 镜头ID (shot_001, shot_002...)
    - description: 简洁描述
    - duration: 镜头的预估时长（秒）， 最短不要低于2秒
    - shot_type: close_up/medium_shot/wide_shot
    - main_character: 主要角色名
    - element_ids: 引用的元素ID列表
    
    直接返回JSON数组，不要其他文字。